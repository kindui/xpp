<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <title></title>
    <script src="../../dist/xpp.js"></script>
    <script type="text/javascript" src="preloadImg.js"></script>
    <style>
        #progress {
            position: fixed;
            left: 50%;
            top: 50%;
            font-size: 20px;
            text-align: center;
            color: red;
        }
    </style>
</head>
<body>
<div id="progress">000</div>
<script>
    /*
     preLoad 图片，第二次返回304
     出现百分比加载进度条
     */
    var preloadImg = X.widgets.PreloadImg;
    new preloadImg({
        el: '#progress',
        items: ['a.jpg', 'b.jpg', 'c.jpg', 'd.jpg', 'e.jpg', 'f.jpg', 'g.jpg', 'h.jpg', 'i.jpg', 'j.jpg', 'k.jpg', 'l.jpg' , 'm.jpg', 'n.jpg', 'o.jpg', 'p.jpg', 'q.jpg'],
        prefix: 'img/',
        complete: function (pct, index) {
            this.el.textContent = pct + '%';
            this.el.offsetWidth;
            console.info(this.el.textContent);
        }
    }).load();


</script>
</body>
</html>